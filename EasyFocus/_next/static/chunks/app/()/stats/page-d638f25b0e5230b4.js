(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{2394:(e,t,n)=>{"use strict";n.d(t,{StatsWebView:()=>k});var a=n(6814),r=n(6554),o=n(7038);function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.QP)((0,r.$)(t))}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var s=Object.defineProperty,c={};!function(e,t){for(var n in t)s(e,n,{get:t[n],enumerable:!0})}(c,{callScheme:function(){return d},emit:function(){return f},invoke:function(){return v}});var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.entries(e).map(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,a,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(a))}).join("&");return Object.keys(e).length?"?".concat(t):t},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n="foca://".concat(e).concat(u(t));window.location.href=n}catch(e){console.log("callScheme error:",e)}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=window.webkit;n&&n.messageHandlers.nativeApp&&n.messageHandlers.nativeApp.postMessage(JSON.stringify({action:e,params:t}))}catch(t){console.log("invoke action ".concat(e," error:"),t)}},f=function(e,t){try{var n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}catch(e){v("error",{message:e.message})}};window.bridge=c;var b=n(2094),m=n(7928);let p=JSON.parse('[{"label":"Day","value":"day"},{"label":"Week","value":"week"},{"label":"Month","value":"month"},{"label":"Year","value":"year"}]'),g=(0,m.v)(e=>({tabs:p,activeTab:p[0],setActiveTab:t=>e(e=>({...e,activeTab:t}))}));var h=n(9301);function y(e){let{className:t,...n}=e;return(0,a.jsx)(h.bL,{"data-slot":"tabs",className:l("flex flex-col gap-2",t),...n})}function x(e){let{className:t,...n}=e;return(0,a.jsx)(h.B8,{"data-slot":"tabs-list",className:l("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...n})}function w(e){let{className:t,...n}=e;return(0,a.jsx)(h.l9,{"data-slot":"tabs-trigger",className:l("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-3 py-2 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}let j=e=>{var t;let{items:n=[],className:r,children:o,onSelect:i,...s}=e;return(0,a.jsx)(y,{defaultValue:null==(t=n[0])?void 0:t.value,className:l([""],r),onValueChange:e=>null==i?void 0:i(n.find(t=>t.value===e)),...s,children:(0,a.jsx)(x,{children:n.map(e=>(0,a.jsx)(w,{value:e.value,children:e.label},e.value))})})},k=e=>{let{className:t,children:n,...r}=e,{tabs:o,activeTab:i,setActiveTab:s}=g(),[c,u]=(0,b.useState)([]),v=e=>{console.log("on stats",e.detail),u(e.detail)};return(0,b.useEffect)(()=>{console.log("activeTab",i),d("stats",{rangedType:i.value})},[i]),(0,b.useEffect)(()=>(window.addEventListener("stats",v),()=>{window.removeEventListener("stats",v)}),[]),(0,a.jsxs)("div",{className:l(["p-4"],t),...r,children:[(0,a.jsx)("header",{className:"flex justify-center sticky top-0 left-0 w-full",children:(0,a.jsx)(j,{defaultValue:i.value,items:o,className:l(["[&>button[role=tab]]:!px-3 [&>button[role=tab]]:py-2"]),onSelect:s})}),(0,a.jsx)("ul",{className:"",children:c.map(e=>{var t;return(0,a.jsx)("li",{children:null==(t=e.label)?void 0:t.name},e.id)})})]})}},2880:(e,t,n)=>{Promise.resolve().then(n.bind(n,2394))}},e=>{var t=t=>e(e.s=t);e.O(0,[776,788,97,358],()=>t(2880)),_N_E=e.O()}]);